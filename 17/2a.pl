#!/usr/bin/perl

use warnings;
use strict;

my @program = ( 2,4,1,5,7,5,0,3,4,1,1,6,5,5,3,0 );
my ($A, $B, $C) = (0,0,0);

while (pop @program) {
    $B = $_;
    $B ^= 6;
    $B ^= $C;
    $A *= 8;
    $A = $C * (2**$B)
    $B ^= 5;
    $A |= $B & 7;
    $C = 
}

my $state = { IP => 0, A => 0, B => 0, C => 0 }

sub dfs {
    

}

C      B
000 00 010

bst 4    B = A & 7
bxl 5    B = B ^ 5
cdv 5    C = A / 2 ** B
adv 3    A = A / 8
bxc 1    B = B ^ C          # 
bxl 6    B = B ^ 6          # 4
out 5    out B & 7          # 2
jnz 0    IP = 0 if A != 0


   ^101
000 101
001 100
010 111
011 110
100 001
101 000
110 011
111 010

   ^110
000 110
001 111
010 100
011 101
100 010
101 011
110 000
111 001





  0 1 2 3 4 5 6 7
0         1 1 1 1 
1         1 1 1 1
2         1 1 1 1
3         1 1 1 1
4 1 1 1 1
5 1 1 1 1
6 1 1 1 1
7 1 1 1 1
